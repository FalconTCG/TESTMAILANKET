"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/surveys/route";
exports.ids = ["app/api/surveys/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsurveys%2Froute&page=%2Fapi%2Fsurveys%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsurveys%2Froute.ts&appDir=C%3A%5CUsers%5Csocak%5CTestEmailAnket%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csocak%5CTestEmailAnket&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsurveys%2Froute&page=%2Fapi%2Fsurveys%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsurveys%2Froute.ts&appDir=C%3A%5CUsers%5Csocak%5CTestEmailAnket%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csocak%5CTestEmailAnket&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_socak_TestEmailAnket_src_app_api_surveys_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/surveys/route.ts */ \"(rsc)/./src/app/api/surveys/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/surveys/route\",\n        pathname: \"/api/surveys\",\n        filename: \"route\",\n        bundlePath: \"app/api/surveys/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\socak\\\\TestEmailAnket\\\\src\\\\app\\\\api\\\\surveys\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_socak_TestEmailAnket_src_app_api_surveys_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/surveys/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdXJ2ZXlzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzdXJ2ZXlzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc3VydmV5cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNzb2NhayU1Q1Rlc3RFbWFpbEFua2V0JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNzb2NhayU1Q1Rlc3RFbWFpbEFua2V0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tCO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZW1haWwtYW5rZXQtc2lzdGVtaS8/N2VlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxzb2Nha1xcXFxUZXN0RW1haWxBbmtldFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxzdXJ2ZXlzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zdXJ2ZXlzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3VydmV5c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc3VydmV5cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHNvY2FrXFxcXFRlc3RFbWFpbEFua2V0XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHN1cnZleXNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc3VydmV5cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsurveys%2Froute&page=%2Fapi%2Fsurveys%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsurveys%2Froute.ts&appDir=C%3A%5CUsers%5Csocak%5CTestEmailAnket%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csocak%5CTestEmailAnket&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/surveys/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/surveys/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/email */ \"(rsc)/./src/lib/email.ts\");\n\n\n\nasync function GET(request) {\n    try {\n        const surveys = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.survey.findMany({\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            include: {\n                _count: {\n                    select: {\n                        responses: true\n                    }\n                }\n            }\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            surveys\n        });\n    } catch (error) {\n        console.error(\"Error fetching surveys:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Anketler alƒ±nƒ±rken bir hata olu≈ütu\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const data = await request.json();\n        const { name, description, emails, templateId, code, isExistingSurvey, existingSurveyId } = data;\n        // Doƒürulama\n        if (!name.trim()) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Anket adƒ± gerekli\"\n            }, {\n                status: 400\n            });\n        }\n        if (!emails || emails.length === 0) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"En az bir e-posta adresi gerekli\"\n            }, {\n                status: 400\n            });\n        }\n        if (!code) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Anket kodu gerekli\"\n            }, {\n                status: 400\n            });\n        }\n        // Mevcut bir anket kullanƒ±lƒ±yorsa ilgili bilgileri getir\n        let templateIdToUse = templateId;\n        let surveyToUse;\n        if (isExistingSurvey && existingSurveyId) {\n            const existingSurvey = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.survey.findUnique({\n                where: {\n                    id: existingSurveyId\n                },\n                select: {\n                    id: true,\n                    title: true,\n                    description: true,\n                    code: true,\n                    templateId: true\n                }\n            });\n            if (existingSurvey) {\n                templateIdToUse = existingSurvey.templateId;\n                surveyToUse = existingSurvey;\n            } else {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    message: \"Se\\xe7ilen anket bulunamadƒ±\"\n                }, {\n                    status: 404\n                });\n            }\n        }\n        // Anket olu≈ütur veya mevcut anketi kullan\n        let survey;\n        if (isExistingSurvey && surveyToUse) {\n            survey = surveyToUse; // Mevcut anketi kullan\n            console.log(`Mevcut anket kullanƒ±lƒ±yor: ${survey.id}`);\n        } else {\n            // Yeni anket olu≈ütur\n            survey = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.survey.create({\n                data: {\n                    title: name,\n                    description,\n                    code: code,\n                    ...templateIdToUse ? {\n                        templateId: templateIdToUse\n                    } : {}\n                }\n            });\n            console.log(`Yeni anket olu≈üturuldu: ${survey.id}`);\n        }\n        // Her e-posta i√ßin anket g√∂nder\n        let successCount = 0;\n        let failureCount = 0;\n        const emailResults = [];\n        for (const email of emails){\n            try {\n                const result = await (0,_lib_email__WEBPACK_IMPORTED_MODULE_2__.sendSurveyEmail)(email, survey);\n                emailResults.push({\n                    email,\n                    success: true\n                });\n                successCount++;\n                console.log(`E-posta ba≈üarƒ±yla g√∂nderildi: ${email}`);\n            } catch (error) {\n                console.error(`E-posta g√∂nderilirken hata olu≈ütu (${email}):`, error);\n                emailResults.push({\n                    email,\n                    success: false,\n                    error: error.message\n                });\n                failureCount++;\n            }\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: `Anket olu≈üturuldu. ${successCount} e-posta ba≈üarƒ±yla g√∂nderildi, ${failureCount} e-posta g√∂nderilemedi.`,\n            surveyId: survey.id,\n            emailResults\n        });\n    } catch (error) {\n        console.error(\"Error creating survey:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Anket olu≈üturulurken bir hata olu≈ütu\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RDtRQUVBLGdDQUFnQztRQUNoQyxJQUFJSSxlQUFlO1FBQ25CLElBQUlDLGVBQWU7UUFDbkIsTUFBTUMsZUFBZSxFQUFFO1FBRXZCLEtBQUssTUFBTUMsU0FBU25CLE9BQVE7WUFDMUIsSUFBSTtnQkFDRixNQUFNb0IsU0FBUyxNQUFNekMsMkRBQWVBLENBQUN3QyxPQUFPcEM7Z0JBQzVDbUMsYUFBYUcsSUFBSSxDQUFDO29CQUFFRjtvQkFBT0csU0FBUztnQkFBSztnQkFDekNOO2dCQUNBdkIsUUFBUXFCLEdBQUcsQ0FBQyxDQUFDLDhCQUE4QixFQUFFSyxNQUFNLENBQUM7WUFDdEQsRUFBRSxPQUFPM0IsT0FBTztnQkFDZEMsUUFBUUQsS0FBSyxDQUFDLENBQUMsbUNBQW1DLEVBQUUyQixNQUFNLEVBQUUsQ0FBQyxFQUFFM0I7Z0JBQy9EMEIsYUFBYUcsSUFBSSxDQUFDO29CQUFFRjtvQkFBT0csU0FBUztvQkFBTzlCLE9BQU9BLE1BQU1FLE9BQU87Z0JBQUM7Z0JBQ2hFdUI7WUFDRjtRQUNGO1FBRUEsT0FBT3hDLGtGQUFZQSxDQUFDYyxJQUFJLENBQUM7WUFDdkIrQixTQUFTO1lBQ1Q1QixTQUFTLENBQUMsbUJBQW1CLEVBQUVzQixhQUFhLCtCQUErQixFQUFFQyxhQUFhLHVCQUF1QixDQUFDO1lBQ2xITSxVQUFVeEMsT0FBTzZCLEVBQUU7WUFDbkJNO1FBQ0Y7SUFDRixFQUFFLE9BQU8xQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU9mLGtGQUFZQSxDQUFDYyxJQUFJLENBQ3RCO1lBQUVHLFNBQVM7UUFBdUMsR0FDbEQ7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbWFpbC1hbmtldC1zaXN0ZW1pLy4vc3JjL2FwcC9hcGkvc3VydmV5cy9yb3V0ZS50cz9iNDExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL3ByaXNtYSc7XHJcbmltcG9ydCB7IHNlbmRTdXJ2ZXlFbWFpbCB9IGZyb20gJ0AvbGliL2VtYWlsJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3VydmV5cyA9IGF3YWl0IHByaXNtYS5zdXJ2ZXkuZmluZE1hbnkoe1xyXG4gICAgICBvcmRlckJ5OiB7XHJcbiAgICAgICAgY3JlYXRlZEF0OiAnZGVzYycsXHJcbiAgICAgIH0sXHJcbiAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICBfY291bnQ6IHtcclxuICAgICAgICAgIHNlbGVjdDogeyByZXNwb25zZXM6IHRydWUgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VydmV5cyB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3VydmV5czonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnQW5rZXRsZXIgYWzEsW7EsXJrZW4gYmlyIGhhdGEgb2x1xZ90dScgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24sIGVtYWlscywgdGVtcGxhdGVJZCwgY29kZSwgaXNFeGlzdGluZ1N1cnZleSwgZXhpc3RpbmdTdXJ2ZXlJZCB9ID0gZGF0YTtcclxuXHJcbiAgICAvLyBEb8SfcnVsYW1hXHJcbiAgICBpZiAoIW5hbWUudHJpbSgpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdBbmtldCBhZMSxIGdlcmVrbGknIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFlbWFpbHMgfHwgZW1haWxzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnRW4gYXogYmlyIGUtcG9zdGEgYWRyZXNpIGdlcmVrbGknIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjb2RlKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdBbmtldCBrb2R1IGdlcmVrbGknIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWV2Y3V0IGJpciBhbmtldCBrdWxsYW7EsWzEsXlvcnNhIGlsZ2lsaSBiaWxnaWxlcmkgZ2V0aXJcclxuICAgIGxldCB0ZW1wbGF0ZUlkVG9Vc2UgPSB0ZW1wbGF0ZUlkO1xyXG4gICAgbGV0IHN1cnZleVRvVXNlO1xyXG4gICAgXHJcbiAgICBpZiAoaXNFeGlzdGluZ1N1cnZleSAmJiBleGlzdGluZ1N1cnZleUlkKSB7XHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nU3VydmV5ID0gYXdhaXQgcHJpc21hLnN1cnZleS5maW5kVW5pcXVlKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogZXhpc3RpbmdTdXJ2ZXlJZCB9LFxyXG4gICAgICAgIHNlbGVjdDogeyBpZDogdHJ1ZSwgdGl0bGU6IHRydWUsIGRlc2NyaXB0aW9uOiB0cnVlLCBjb2RlOiB0cnVlLCB0ZW1wbGF0ZUlkOiB0cnVlIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKGV4aXN0aW5nU3VydmV5KSB7XHJcbiAgICAgICAgdGVtcGxhdGVJZFRvVXNlID0gZXhpc3RpbmdTdXJ2ZXkudGVtcGxhdGVJZDtcclxuICAgICAgICBzdXJ2ZXlUb1VzZSA9IGV4aXN0aW5nU3VydmV5O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdTZcOnaWxlbiBhbmtldCBidWx1bmFtYWTEsScgfSwgeyBzdGF0dXM6IDQwNCB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFua2V0IG9sdcWfdHVyIHZleWEgbWV2Y3V0IGFua2V0aSBrdWxsYW5cclxuICAgIGxldCBzdXJ2ZXk7XHJcbiAgICBpZiAoaXNFeGlzdGluZ1N1cnZleSAmJiBzdXJ2ZXlUb1VzZSkge1xyXG4gICAgICBzdXJ2ZXkgPSBzdXJ2ZXlUb1VzZTsgLy8gTWV2Y3V0IGFua2V0aSBrdWxsYW5cclxuICAgICAgY29uc29sZS5sb2coYE1ldmN1dCBhbmtldCBrdWxsYW7EsWzEsXlvcjogJHtzdXJ2ZXkuaWR9YCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBZZW5pIGFua2V0IG9sdcWfdHVyXHJcbiAgICAgIHN1cnZleSA9IGF3YWl0IHByaXNtYS5zdXJ2ZXkuY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICB0aXRsZTogbmFtZSxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgY29kZTogY29kZSxcclxuICAgICAgICAgIC4uLih0ZW1wbGF0ZUlkVG9Vc2UgPyB7IHRlbXBsYXRlSWQ6IHRlbXBsYXRlSWRUb1VzZSB9IDoge30pLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZyhgWWVuaSBhbmtldCBvbHXFn3R1cnVsZHU6ICR7c3VydmV5LmlkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhlciBlLXBvc3RhIGnDp2luIGFua2V0IGfDtm5kZXJcclxuICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xyXG4gICAgbGV0IGZhaWx1cmVDb3VudCA9IDA7XHJcbiAgICBjb25zdCBlbWFpbFJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGVtYWlsIG9mIGVtYWlscykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRTdXJ2ZXlFbWFpbChlbWFpbCwgc3VydmV5KTtcclxuICAgICAgICBlbWFpbFJlc3VsdHMucHVzaCh7IGVtYWlsLCBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gICAgICAgIHN1Y2Nlc3NDb3VudCsrO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBFLXBvc3RhIGJhxZ9hcsSxeWxhIGfDtm5kZXJpbGRpOiAke2VtYWlsfWApO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEUtcG9zdGEgZ8O2bmRlcmlsaXJrZW4gaGF0YSBvbHXFn3R1ICgke2VtYWlsfSk6YCwgZXJyb3IpO1xyXG4gICAgICAgIGVtYWlsUmVzdWx0cy5wdXNoKHsgZW1haWwsIHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgICAgICBmYWlsdXJlQ291bnQrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6IGBBbmtldCBvbHXFn3R1cnVsZHUuICR7c3VjY2Vzc0NvdW50fSBlLXBvc3RhIGJhxZ9hcsSxeWxhIGfDtm5kZXJpbGRpLCAke2ZhaWx1cmVDb3VudH0gZS1wb3N0YSBnw7ZuZGVyaWxlbWVkaS5gLFxyXG4gICAgICBzdXJ2ZXlJZDogc3VydmV5LmlkLFxyXG4gICAgICBlbWFpbFJlc3VsdHMsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgc3VydmV5OicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBtZXNzYWdlOiAnQW5rZXQgb2x1xZ90dXJ1bHVya2VuIGJpciBoYXRhIG9sdcWfdHUnIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInByaXNtYSIsInNlbmRTdXJ2ZXlFbWFpbCIsIkdFVCIsInJlcXVlc3QiLCJzdXJ2ZXlzIiwic3VydmV5IiwiZmluZE1hbnkiLCJvcmRlckJ5IiwiY3JlYXRlZEF0IiwiaW5jbHVkZSIsIl9jb3VudCIsInNlbGVjdCIsInJlc3BvbnNlcyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic3RhdHVzIiwiUE9TVCIsImRhdGEiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJlbWFpbHMiLCJ0ZW1wbGF0ZUlkIiwiY29kZSIsImlzRXhpc3RpbmdTdXJ2ZXkiLCJleGlzdGluZ1N1cnZleUlkIiwidHJpbSIsImxlbmd0aCIsInRlbXBsYXRlSWRUb1VzZSIsInN1cnZleVRvVXNlIiwiZXhpc3RpbmdTdXJ2ZXkiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsInRpdGxlIiwibG9nIiwiY3JlYXRlIiwic3VjY2Vzc0NvdW50IiwiZmFpbHVyZUNvdW50IiwiZW1haWxSZXN1bHRzIiwiZW1haWwiLCJyZXN1bHQiLCJwdXNoIiwic3VjY2VzcyIsInN1cnZleUlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/surveys/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/email.ts":
/*!**************************!*\
  !*** ./src/lib/email.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTransporter: () => (/* binding */ createTransporter),\n/* harmony export */   sendSurveyEmail: () => (/* binding */ sendSurveyEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n\n// E-posta g√∂ndericisini olu≈ütur - .env ayarlarƒ±na g√∂re uygun se√ßeneƒüi se√ß\nasync function createTransporter() {\n    try {\n        // .env'de EMAIL_USE_ETHEREAL=true ise Ethereal test hesabƒ± kullan\n        if (process.env.EMAIL_USE_ETHEREAL === \"true\") {\n            console.log(\"Creating Ethereal test account for email testing...\");\n            const testAccount = await nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTestAccount();\n            console.log(\"Test account created:\", testAccount.user);\n            const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n                host: \"smtp.ethereal.email\",\n                port: 587,\n                secure: false,\n                auth: {\n                    user: testAccount.user,\n                    pass: testAccount.pass\n                }\n            });\n            console.log(\"Ethereal transporter created\");\n            return {\n                transporter,\n                testAccount,\n                isTest: true\n            };\n        } else {\n            console.log(\"Using real SMTP server with settings from .env\");\n            // .env'den SMTP ayarlarƒ±nƒ± doƒürula\n            if (!process.env.EMAIL_HOST || !process.env.EMAIL_USER || !process.env.EMAIL_PASS) {\n                throw new Error(\"Missing SMTP configuration in .env file\");\n            }\n            const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n                host: process.env.EMAIL_HOST,\n                port: parseInt(process.env.EMAIL_PORT || \"587\"),\n                secure: process.env.EMAIL_SECURE === \"true\",\n                auth: {\n                    user: process.env.EMAIL_USER,\n                    pass: process.env.EMAIL_PASS\n                }\n            });\n            console.log(\"Real SMTP transporter created\");\n            return {\n                transporter,\n                isTest: false\n            };\n        }\n    } catch (error) {\n        console.error(\"Error creating email transporter:\", error);\n        throw error;\n    }\n}\nasync function sendSurveyEmail(emailTo, survey) {\n    try {\n        console.log(`Attempting to send survey email to ${emailTo} for survey: ${survey.title} (${survey.id})`);\n        const { transporter, testAccount, isTest } = await createTransporter();\n        // Generate rating URLs\n        const baseUrl = \"http://localhost:3001\" || 0;\n        console.log(\"Using base URL for email links:\", baseUrl);\n        const ratingUrls = {\n            1: `${baseUrl}/api/surveys/${survey.id}/respond?email=${encodeURIComponent(emailTo)}&rating=1`,\n            2: `${baseUrl}/api/surveys/${survey.id}/respond?email=${encodeURIComponent(emailTo)}&rating=2`,\n            3: `${baseUrl}/api/surveys/${survey.id}/respond?email=${encodeURIComponent(emailTo)}&rating=3`,\n            4: `${baseUrl}/api/surveys/${survey.id}/respond?email=${encodeURIComponent(emailTo)}&rating=4`,\n            5: `${baseUrl}/api/surveys/${survey.id}/respond?email=${encodeURIComponent(emailTo)}&rating=5`\n        };\n        // Create email HTML with rating icons\n        const emailHtml = `\r\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #eaeaea; border-radius: 5px;\">\r\n        <h2 style=\"color: #334155; text-align: center;\">${survey.title}</h2>\r\n        <p style=\"color: #64748B; margin-bottom: 30px; text-align: center;\">L√ºtfen hizmetimizi deƒüerlendirin</p>\r\n        \r\n        <div style=\"display: flex; justify-content: space-between; margin: 30px 0;\">\r\n          <a href=\"${ratingUrls[1]}\" style=\"text-decoration: none; text-align: center; display: block; width: 18%;\">\r\n            <div style=\"font-size: 40px; margin-bottom: 10px;\">üò°</div>\r\n            <div style=\"color: #d32f2f; font-size: 14px;\">√áok K√∂t√º</div>\r\n          </a>\r\n          \r\n          <a href=\"${ratingUrls[2]}\" style=\"text-decoration: none; text-align: center; display: block; width: 18%;\">\r\n            <div style=\"font-size: 40px; margin-bottom: 10px;\">üòï</div>\r\n            <div style=\"color: #f57c00; font-size: 14px;\">K√∂t√º</div>\r\n          </a>\r\n          \r\n          <a href=\"${ratingUrls[3]}\" style=\"text-decoration: none; text-align: center; display: block; width: 18%;\">\r\n            <div style=\"font-size: 40px; margin-bottom: 10px;\">üòê</div>\r\n            <div style=\"color: #ffc107; font-size: 14px;\">Orta</div>\r\n          </a>\r\n          \r\n          <a href=\"${ratingUrls[4]}\" style=\"text-decoration: none; text-align: center; display: block; width: 18%;\">\r\n            <div style=\"font-size: 40px; margin-bottom: 10px;\">üôÇ</div>\r\n            <div style=\"color: #4caf50; font-size: 14px;\">ƒ∞yi</div>\r\n          </a>\r\n          \r\n          <a href=\"${ratingUrls[5]}\" style=\"text-decoration: none; text-align: center; display: block; width: 18%;\">\r\n            <div style=\"font-size: 40px; margin-bottom: 10px;\">üòç</div>\r\n            <div style=\"color: #2196f3; font-size: 14px;\">√áok ƒ∞yi</div>\r\n          </a>\r\n        </div>\r\n        \r\n        <p style=\"color: #64748B; margin: 30px 0 15px; text-align: center;\">Bir ikon se√ßtikten sonra ek yorumlarƒ±nƒ±zƒ± da payla≈üabilirsiniz.</p>\r\n        \r\n        <p style=\"color: #94A3B8; font-size: 12px; text-align: center; margin-top: 30px;\">\r\n          Bu e-posta otomatik olarak g√∂nderilmi≈ütir. L√ºtfen yanƒ±tlamayƒ±nƒ±z.\r\n        </p>\r\n      </div>\r\n    `;\n        console.log(\"Sending email with HTML content (length):\", emailHtml.length);\n        // G√∂nderici e-posta adresini ayarla\n        const fromEmail = isTest ? `\"Anket Sistemi\" <${testAccount.user}>` : `\"Anket Sistemi\" <${process.env.EMAIL_FROM || \"noreply@anketsistemi.com\"}>`;\n        // Send the email\n        const info = await transporter.sendMail({\n            from: fromEmail,\n            to: emailTo,\n            subject: `${survey.title} - Deƒüerlendirme Anketi`,\n            html: emailHtml\n        });\n        console.log(\"Email sent successfully:\", info.messageId);\n        // Test hesabƒ± kullanƒ±lƒ±yorsa, √∂nizleme URL'sini logla\n        if (isTest) {\n            const previewUrl = nodemailer__WEBPACK_IMPORTED_MODULE_0__.getTestMessageUrl(info);\n            console.log(\"\\n=========================================================\");\n            console.log(\"\\uD83D\\uDCE7 E-POSTA \\xd6Nƒ∞ZLEMESƒ∞ ƒ∞\\xc7ƒ∞N A≈ûAƒûIDAN DEVAM EDƒ∞N \\uD83D\\uDCE7\");\n            console.log(\"=========================================================\");\n            console.log(\"Test e-postanƒ±zƒ± g\\xf6rmek i\\xe7in bu linki tarayƒ±cƒ±nƒ±zda a\\xe7ƒ±n:\");\n            console.log(previewUrl);\n            console.log(\"=========================================================\\n\");\n            return {\n                messageId: info.messageId,\n                previewUrl,\n                success: true\n            };\n        }\n        return {\n            messageId: info.messageId,\n            success: true\n        };\n    } catch (error) {\n        console.error(\"E-posta g\\xf6nderimi sƒ±rasƒ±nda hata olu≈ütu:\", error);\n        return {\n            error: error.message,\n            success: false\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBRSxTQUFTO1lBQ1g7UUFDRjtRQUVBLE9BQU87WUFDTEgsV0FBV04sS0FBS00sU0FBUztZQUN6QkcsU0FBUztRQUNYO0lBQ0YsRUFBRSxPQUFPdkIsT0FBTztRQUNkcEIsUUFBUW9CLEtBQUssQ0FBQywrQ0FBNENBO1FBQzFELE9BQU87WUFDTEEsT0FBT0EsTUFBTXdCLE9BQU87WUFDcEJELFNBQVM7UUFDWDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbWFpbC1hbmtldC1zaXN0ZW1pLy4vc3JjL2xpYi9lbWFpbC50cz80YzE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInO1xyXG5cclxudHlwZSBSYXRpbmcgPSAxIHwgMiB8IDMgfCA0IHwgNTtcclxuXHJcbmludGVyZmFjZSBTZW5kU3VydmV5RW1haWxQYXJhbXMge1xyXG4gIHRvOiBzdHJpbmc7XHJcbiAgc3VydmV5SWQ6IHN0cmluZztcclxuICBzdXJ2ZXlOYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIEUtcG9zdGEgZ8O2bmRlcmljaXNpbmkgb2x1xZ90dXIgLSAuZW52IGF5YXJsYXLEsW5hIGfDtnJlIHV5Z3VuIHNlw6dlbmXEn2kgc2XDp1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVHJhbnNwb3J0ZXIoKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIC5lbnYnZGUgRU1BSUxfVVNFX0VUSEVSRUFMPXRydWUgaXNlIEV0aGVyZWFsIHRlc3QgaGVzYWLEsSBrdWxsYW5cclxuICAgIGlmIChwcm9jZXNzLmVudi5FTUFJTF9VU0VfRVRIRVJFQUwgPT09ICd0cnVlJykge1xyXG4gICAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgRXRoZXJlYWwgdGVzdCBhY2NvdW50IGZvciBlbWFpbCB0ZXN0aW5nLi4uJyk7XHJcbiAgICAgIGNvbnN0IHRlc3RBY2NvdW50ID0gYXdhaXQgbm9kZW1haWxlci5jcmVhdGVUZXN0QWNjb3VudCgpO1xyXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCBhY2NvdW50IGNyZWF0ZWQ6JywgdGVzdEFjY291bnQudXNlcik7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICAgICAgICBob3N0OiAnc210cC5ldGhlcmVhbC5lbWFpbCcsXHJcbiAgICAgICAgcG9ydDogNTg3LFxyXG4gICAgICAgIHNlY3VyZTogZmFsc2UsXHJcbiAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgdXNlcjogdGVzdEFjY291bnQudXNlcixcclxuICAgICAgICAgIHBhc3M6IHRlc3RBY2NvdW50LnBhc3MsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnRXRoZXJlYWwgdHJhbnNwb3J0ZXIgY3JlYXRlZCcpO1xyXG4gICAgICByZXR1cm4geyB0cmFuc3BvcnRlciwgdGVzdEFjY291bnQsIGlzVGVzdDogdHJ1ZSB9O1xyXG4gICAgfSBcclxuICAgIC8vIEdlcsOnZWsgU01UUCBzdW51Y3VzdSBrdWxsYW5cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgcmVhbCBTTVRQIHNlcnZlciB3aXRoIHNldHRpbmdzIGZyb20gLmVudicpO1xyXG4gICAgICBcclxuICAgICAgLy8gLmVudidkZW4gU01UUCBheWFybGFyxLFuxLEgZG/En3J1bGFcclxuICAgICAgaWYgKCFwcm9jZXNzLmVudi5FTUFJTF9IT1NUIHx8ICFwcm9jZXNzLmVudi5FTUFJTF9VU0VSIHx8ICFwcm9jZXNzLmVudi5FTUFJTF9QQVNTKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFNNVFAgY29uZmlndXJhdGlvbiBpbiAuZW52IGZpbGUnKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XHJcbiAgICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuRU1BSUxfSE9TVCxcclxuICAgICAgICBwb3J0OiBwYXJzZUludChwcm9jZXNzLmVudi5FTUFJTF9QT1JUIHx8ICc1ODcnKSxcclxuICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52LkVNQUlMX1NFQ1VSRSA9PT0gJ3RydWUnLFxyXG4gICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgIHVzZXI6IHByb2Nlc3MuZW52LkVNQUlMX1VTRVIsXHJcbiAgICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5FTUFJTF9QQVNTLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ1JlYWwgU01UUCB0cmFuc3BvcnRlciBjcmVhdGVkJyk7XHJcbiAgICAgIHJldHVybiB7IHRyYW5zcG9ydGVyLCBpc1Rlc3Q6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGVtYWlsIHRyYW5zcG9ydGVyOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRTdXJ2ZXlFbWFpbChlbWFpbFRvOiBzdHJpbmcsIHN1cnZleTogYW55KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKGBBdHRlbXB0aW5nIHRvIHNlbmQgc3VydmV5IGVtYWlsIHRvICR7ZW1haWxUb30gZm9yIHN1cnZleTogJHtzdXJ2ZXkudGl0bGV9ICgke3N1cnZleS5pZH0pYCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHsgdHJhbnNwb3J0ZXIsIHRlc3RBY2NvdW50LCBpc1Rlc3QgfSA9IGF3YWl0IGNyZWF0ZVRyYW5zcG9ydGVyKCk7XHJcbiAgICBcclxuICAgIC8vIEdlbmVyYXRlIHJhdGluZyBVUkxzXHJcbiAgICBjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAyJztcclxuICAgIGNvbnNvbGUubG9nKCdVc2luZyBiYXNlIFVSTCBmb3IgZW1haWwgbGlua3M6JywgYmFzZVVybCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHJhdGluZ1VybHMgPSB7XHJcbiAgICAgIDE6IGAke2Jhc2VVcmx9L2FwaS9zdXJ2ZXlzLyR7c3VydmV5LmlkfS9yZXNwb25kP2VtYWlsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVtYWlsVG8pfSZyYXRpbmc9MWAsXHJcbiAgICAgIDI6IGAke2Jhc2VVcmx9L2FwaS9zdXJ2ZXlzLyR7c3VydmV5LmlkfS9yZXNwb25kP2VtYWlsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVtYWlsVG8pfSZyYXRpbmc9MmAsXHJcbiAgICAgIDM6IGAke2Jhc2VVcmx9L2FwaS9zdXJ2ZXlzLyR7c3VydmV5LmlkfS9yZXNwb25kP2VtYWlsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVtYWlsVG8pfSZyYXRpbmc9M2AsXHJcbiAgICAgIDQ6IGAke2Jhc2VVcmx9L2FwaS9zdXJ2ZXlzLyR7c3VydmV5LmlkfS9yZXNwb25kP2VtYWlsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVtYWlsVG8pfSZyYXRpbmc9NGAsXHJcbiAgICAgIDU6IGAke2Jhc2VVcmx9L2FwaS9zdXJ2ZXlzLyR7c3VydmV5LmlkfS9yZXNwb25kP2VtYWlsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVtYWlsVG8pfSZyYXRpbmc9NWAsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENyZWF0ZSBlbWFpbCBIVE1MIHdpdGggcmF0aW5nIGljb25zXHJcbiAgICBjb25zdCBlbWFpbEh0bWwgPSBgXHJcbiAgICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZWFlYWVhOyBib3JkZXItcmFkaXVzOiA1cHg7XCI+XHJcbiAgICAgICAgPGgyIHN0eWxlPVwiY29sb3I6ICMzMzQxNTU7IHRleHQtYWxpZ246IGNlbnRlcjtcIj4ke3N1cnZleS50aXRsZX08L2gyPlxyXG4gICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICM2NDc0OEI7IG1hcmdpbi1ib3R0b206IDMwcHg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5Mw7x0ZmVuIGhpem1ldGltaXppIGRlxJ9lcmxlbmRpcmluPC9wPlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IG1hcmdpbjogMzBweCAwO1wiPlxyXG4gICAgICAgICAgPGEgaHJlZj1cIiR7cmF0aW5nVXJsc1sxXX1cIiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogbm9uZTsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDE4JTtcIj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogNDBweDsgbWFyZ2luLWJvdHRvbTogMTBweDtcIj7wn5ihPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJjb2xvcjogI2QzMmYyZjsgZm9udC1zaXplOiAxNHB4O1wiPsOHb2sgS8O2dMO8PC9kaXY+XHJcbiAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxhIGhyZWY9XCIke3JhdGluZ1VybHNbMl19XCIgc3R5bGU9XCJ0ZXh0LWRlY29yYXRpb246IG5vbmU7IHRleHQtYWxpZ246IGNlbnRlcjsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxOCU7XCI+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDQwcHg7IG1hcmdpbi1ib3R0b206IDEwcHg7XCI+8J+YlTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiY29sb3I6ICNmNTdjMDA7IGZvbnQtc2l6ZTogMTRweDtcIj5Lw7Z0w7w8L2Rpdj5cclxuICAgICAgICAgIDwvYT5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGEgaHJlZj1cIiR7cmF0aW5nVXJsc1szXX1cIiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogbm9uZTsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDE4JTtcIj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogNDBweDsgbWFyZ2luLWJvdHRvbTogMTBweDtcIj7wn5iQPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJjb2xvcjogI2ZmYzEwNzsgZm9udC1zaXplOiAxNHB4O1wiPk9ydGE8L2Rpdj5cclxuICAgICAgICAgIDwvYT5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGEgaHJlZj1cIiR7cmF0aW5nVXJsc1s0XX1cIiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogbm9uZTsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDE4JTtcIj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogNDBweDsgbWFyZ2luLWJvdHRvbTogMTBweDtcIj7wn5mCPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJjb2xvcjogIzRjYWY1MDsgZm9udC1zaXplOiAxNHB4O1wiPsSweWk8L2Rpdj5cclxuICAgICAgICAgIDwvYT5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGEgaHJlZj1cIiR7cmF0aW5nVXJsc1s1XX1cIiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogbm9uZTsgdGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDE4JTtcIj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogNDBweDsgbWFyZ2luLWJvdHRvbTogMTBweDtcIj7wn5iNPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJjb2xvcjogIzIxOTZmMzsgZm9udC1zaXplOiAxNHB4O1wiPsOHb2sgxLB5aTwvZGl2PlxyXG4gICAgICAgICAgPC9hPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICM2NDc0OEI7IG1hcmdpbjogMzBweCAwIDE1cHg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5CaXIgaWtvbiBzZcOndGlrdGVuIHNvbnJhIGVrIHlvcnVtbGFyxLFuxLF6xLEgZGEgcGF5bGHFn2FiaWxpcnNpbml6LjwvcD5cclxuICAgICAgICBcclxuICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjOTRBM0I4OyBmb250LXNpemU6IDEycHg7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMzBweDtcIj5cclxuICAgICAgICAgIEJ1IGUtcG9zdGEgb3RvbWF0aWsgb2xhcmFrIGfDtm5kZXJpbG1pxZ90aXIuIEzDvHRmZW4geWFuxLF0bGFtYXnEsW7EsXouXHJcbiAgICAgICAgPC9wPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ1NlbmRpbmcgZW1haWwgd2l0aCBIVE1MIGNvbnRlbnQgKGxlbmd0aCk6JywgZW1haWxIdG1sLmxlbmd0aCk7XHJcblxyXG4gICAgLy8gR8O2bmRlcmljaSBlLXBvc3RhIGFkcmVzaW5pIGF5YXJsYVxyXG4gICAgY29uc3QgZnJvbUVtYWlsID0gaXNUZXN0IFxyXG4gICAgICA/IGBcIkFua2V0IFNpc3RlbWlcIiA8JHt0ZXN0QWNjb3VudC51c2VyfT5gXHJcbiAgICAgIDogYFwiQW5rZXQgU2lzdGVtaVwiIDwke3Byb2Nlc3MuZW52LkVNQUlMX0ZST00gfHwgJ25vcmVwbHlAYW5rZXRzaXN0ZW1pLmNvbSd9PmA7XHJcblxyXG4gICAgLy8gU2VuZCB0aGUgZW1haWxcclxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbCh7XHJcbiAgICAgIGZyb206IGZyb21FbWFpbCxcclxuICAgICAgdG86IGVtYWlsVG8sXHJcbiAgICAgIHN1YmplY3Q6IGAke3N1cnZleS50aXRsZX0gLSBEZcSfZXJsZW5kaXJtZSBBbmtldGlgLFxyXG4gICAgICBodG1sOiBlbWFpbEh0bWwsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnRW1haWwgc2VudCBzdWNjZXNzZnVsbHk6JywgaW5mby5tZXNzYWdlSWQpO1xyXG4gICAgXHJcbiAgICAvLyBUZXN0IGhlc2FixLEga3VsbGFuxLFsxLF5b3JzYSwgw7ZuaXpsZW1lIFVSTCdzaW5pIGxvZ2xhXHJcbiAgICBpZiAoaXNUZXN0KSB7XHJcbiAgICAgIGNvbnN0IHByZXZpZXdVcmwgPSBub2RlbWFpbGVyLmdldFRlc3RNZXNzYWdlVXJsKGluZm8pO1xyXG4gICAgICBjb25zb2xlLmxvZygnXFxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Jyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OnIEUtUE9TVEEgw5ZOxLBaTEVNRVPEsCDEsMOHxLBOIEHFnkHEnklEQU4gREVWQU0gRUTEsE4g8J+TpycpO1xyXG4gICAgICBjb25zb2xlLmxvZygnPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Jyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0IGUtcG9zdGFuxLF6xLEgZ8O2cm1layBpw6dpbiBidSBsaW5raSB0YXJhecSxY8SxbsSxemRhIGHDp8SxbjonKTtcclxuICAgICAgY29uc29sZS5sb2cocHJldmlld1VybCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG4nKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbWVzc2FnZUlkOiBpbmZvLm1lc3NhZ2VJZCxcclxuICAgICAgICBwcmV2aWV3VXJsLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWVcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbWVzc2FnZUlkOiBpbmZvLm1lc3NhZ2VJZCxcclxuICAgICAgc3VjY2VzczogdHJ1ZVxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRS1wb3N0YSBnw7ZuZGVyaW1pIHPEsXJhc8SxbmRhIGhhdGEgb2x1xZ90dTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2VcclxuICAgIH07XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0ZXIiLCJwcm9jZXNzIiwiZW52IiwiRU1BSUxfVVNFX0VUSEVSRUFMIiwiY29uc29sZSIsImxvZyIsInRlc3RBY2NvdW50IiwiY3JlYXRlVGVzdEFjY291bnQiLCJ1c2VyIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJwYXNzIiwiaXNUZXN0IiwiRU1BSUxfSE9TVCIsIkVNQUlMX1VTRVIiLCJFTUFJTF9QQVNTIiwiRXJyb3IiLCJwYXJzZUludCIsIkVNQUlMX1BPUlQiLCJFTUFJTF9TRUNVUkUiLCJlcnJvciIsInNlbmRTdXJ2ZXlFbWFpbCIsImVtYWlsVG8iLCJzdXJ2ZXkiLCJ0aXRsZSIsImlkIiwiYmFzZVVybCIsIk5FWFRfUFVCTElDX0FQUF9VUkwiLCJyYXRpbmdVcmxzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZW1haWxIdG1sIiwibGVuZ3RoIiwiZnJvbUVtYWlsIiwiRU1BSUxfRlJPTSIsImluZm8iLCJzZW5kTWFpbCIsImZyb20iLCJ0byIsInN1YmplY3QiLCJodG1sIiwibWVzc2FnZUlkIiwicHJldmlld1VybCIsImdldFRlc3RNZXNzYWdlVXJsIiwic3VjY2VzcyIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/email.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = global;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        \"query\"\n    ]\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFFOUMsTUFBTUMsa0JBQWtCQztBQUVqQixNQUFNQyxTQUNYRixnQkFBZ0JFLE1BQU0sSUFDdEIsSUFBSUgsd0RBQVlBLENBQUM7SUFDZkksS0FBSztRQUFDO0tBQVE7QUFDaEIsR0FBRztBQUVMLElBQUlDLElBQXlCLEVBQWNKLGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2VtYWlsLWFua2V0LXNpc3RlbWkvLi9zcmMvbGliL3ByaXNtYS50cz8wMWQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcclxuXHJcbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbCBhcyB1bmtub3duIGFzIHsgcHJpc21hOiBQcmlzbWFDbGllbnQgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcmlzbWEgPVxyXG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgfHxcclxuICBuZXcgUHJpc21hQ2xpZW50KHtcclxuICAgIGxvZzogWydxdWVyeSddLFxyXG4gIH0pO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWE7ICJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWwiLCJwcmlzbWEiLCJsb2ciLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/nodemailer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsurveys%2Froute&page=%2Fapi%2Fsurveys%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsurveys%2Froute.ts&appDir=C%3A%5CUsers%5Csocak%5CTestEmailAnket%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Csocak%5CTestEmailAnket&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();